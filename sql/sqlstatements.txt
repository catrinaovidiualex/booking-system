create database trainTicketingSystem

use trainTicketingSystem



CREATE TABLE client (
    id_client int primary key not null auto_increment,
    nume varchar(255) not null,
    prenume varchar(255) not null,
    adresa varchar(255) not null,
    nr_telefon varchar(255) not null,
    parola varchar(255) not null
    
);


CREATE TABLE factura (
    id_factura int primary key not null auto_increment,
    id_client varchar(255) not null,
    pret_bilet int not null
    
);




CREATE TABLE vagon (
    id_vagon int primary key not null auto_increment,
    tip_clasa int not null,
    numar_vagon int not null,
    id_tren int not null,
    nr_loc int 
   
);

CREATE TABLE rezervare (
    id_rezervare int primary key not null auto_increment,
    data_rezervare date not null,
    id_client int not null,
    id_vagon int not null,
    id_tren int not null,
    nr_locrezervat int not null

);


CREATE TABLE tren (
    id_tren int primary key not null auto_increment,
    numar_tren int not null,
    tip_tren varchar(255) not null,
    statiaPlecare varchar(255) not null,
    statiaSosire varchar(255) not null,
    id_vagon int not null
    );

select * from client
select * from factura
select * from rezervare
select * from tren
select * from vagon

insert into client(nume, prenume, adresa, nr_telefon, parola) values('Popescu','Ion','Bd. Eroilor, Bucuresti, sector2','0766982315','pion2021')
insert into client(nume, prenume, adresa, nr_telefon, parola) values('Ionescu','Ana','str. M. Eminescu, nr. 2, Brasov','0776328927','ananaionescu')

delete from client where nume='Ionescu' and prenume='Ana'

update client
set adresa="str I. C. Bratianu, nr. 13, Braila"
where nume='Ionescu' and prenume='Ana'

insert into factura(id_client,pret_bilet) values (1,150);
insert into factura(id_client,pret_bilet) values (3,200);

update factura
set pret_bilet=160
where id_factura=1

delete from factura where id_factura=3;

insert into rezervare(data_rezervare,id_client, id_vagon,id_tren,nr_locrezervat) values ('2021-11-07',1,5,1129,66);
insert into rezervare(data_rezervare,id_client, id_vagon,id_tren,nr_locrezervat) values ('2021-11-15',3,2,1183,29);
update rezervare
set id_client=1
where id_rezervare=4

update rezervare
set id_tren=1
where id_rezervare=4
delete from rezervare where id_rezervare=4;

insert into tren (numar_tren,tip_tren,statiaPlecare,statiaSosire,id_vagon) values (1299,"InterRegio","Bucuresti","Brasov",2);
insert into tren (numar_tren,tip_tren,statiaPlecare,statiaSosire,id_vagon) values (1588,"Regio","Pitesti","Targu Jiu",5);
insert into tren (numar_tren,tip_tren,statiaPlecare,statiaSosire,id_vagon) values (1460,"Regio","Deva","Hateg",3);

update tren
set numar_tren=1968
where id_tren=3


delete from tren where id_tren=5
